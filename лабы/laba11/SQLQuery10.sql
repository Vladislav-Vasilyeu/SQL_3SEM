use Vas_MyBase
DECLARE @id_клиента INT,
        @Наименование_фирмы_заказчика NVARCHAR(50),
        @Адрес NVARCHAR(50),
        @Телефон INT,
        @Контактное_лицо NVARCHAR(50),
        @id_товара INT,
        @Наименование_товара NVARCHAR(50),
        @Цена INT,
        @Количество INT;

DECLARE Клиенты_Курсор CURSOR LOCAL FOR
    SELECT c.id_клиента, c.Наименование_фирмы_заказчика, c.Адрес, c.Телефон, c.Контактное_лицо,
           z.id_товара, t.Наименование_товара, t.Цена, z.Количество
    FROM КЛИЕНТЫ c
    INNER JOIN ЗАКАЗЫ z ON c.id_клиента = z.id_клиента
    INNER JOIN ТОВАРЫ t ON z.id_товара = t.id_товара;

OPEN Клиенты_Курсор;

FETCH NEXT FROM Клиенты_Курсор INTO @id_клиента, @Наименование_фирмы_заказчика, @Адрес, @Телефон, @Контактное_лицо, @id_товара, @Наименование_товара, @Цена, @Количество;

WHILE @@FETCH_STATUS = 0
BEGIN
    PRINT 'Клиент: ' + @Наименование_фирмы_заказчика + ' (ID: ' + CAST(@id_клиента AS NVARCHAR(10)) + ')';
    PRINT 'Адрес: ' + @Адрес + ', Телефон: ' + CAST(@Телефон AS NVARCHAR(15)) + ', Контактное лицо: ' + @Контактное_лицо;
    PRINT 'Заказ: ' + @Наименование_товара + ', Цена: ' + CAST(@Цена AS NVARCHAR(10)) + ', Количество: ' + CAST(@Количество AS NVARCHAR(10));
    PRINT '----------------------------------------';

    FETCH NEXT FROM Клиенты_Курсор INTO @id_клиента, @Наименование_фирмы_заказчика, @Адрес, @Телефон, @Контактное_лицо, @id_товара, @Наименование_товара, @Цена, @Количество;
END;

CLOSE Клиенты_Курсор;
DEALLOCATE Клиенты_Курсор;
